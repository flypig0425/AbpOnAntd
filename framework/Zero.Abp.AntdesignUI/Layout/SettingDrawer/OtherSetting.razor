@namespace Zero.Abp.AntdesignUI.Layout
@inherits SettingDrawerBase

<AntList Split="false"
         DataSource="OtherSettings"
         ItemLayout="ListItemLayout.Horizontal">
    <ListItem>
        <span style="opacity: @(context.Disabled ? "0.5" : "1")">@context.Title</span>
        @context.Action
    </ListItem>
</AntList>

@code
{

    RenderFragment SwitchRender(
         Expression<Func<LayoutSettings, bool>> propertySelector,
         Func<bool> valueFactory)
    {
        return @<Template>
        <Switch Size="small" Checked="@valueFactory.Invoke()"
            OnChange="(v)=>UpdateSettingAsync(propertySelector,()=>v)" />
    </Template>
    ;
    }


    public SettingItem[] OtherSettings { get; set; }

    protected override void OnInitialized()
    {
        base.OnInitialized();

        OtherSettings = new[]
                    {
            new SettingItem
            {
                Title =L["Weakmode"],
                Action =SwitchRender( x => x.ColorWeak, () => Settings.ColorWeak)
            }
        };
    }
}
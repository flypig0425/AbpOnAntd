@namespace Zero.Abp.AntdesignUI.Layout
@inherits SettingDrawerBase

<AntList Split="false"
         DataSource="OtherSettings"
         ItemLayout="ListItemLayout.Horizontal">
    <ListItem>
        @context.Action
    </ListItem>
</AntList>
@code
{       public RenderFragment SwitchRender(
    Expression<Func<LayoutSettings, bool>> propertySelector
    , Func<bool> valueFactory
    , Func<bool> disabledFactory = null)
    {
        var fieldName = (propertySelector.Body as MemberExpression)?.Member?.Name;
        return@<Template>
        <span style="@StyleValues(("opacity:0.5",disabledFactory))">@L[fieldName]</span>
        <Switch Size="small" Checked="@(valueFactory?.Invoke()?? false)" Disabled="@(disabledFactory?.Invoke()?? false)"
                OnChange="value=>UpdateSettingAsync(propertySelector,valueFactory,value)" />
    </Template>
    ;
    }

    public SettingItem[] OtherSettings { get; set; }

    protected override void OnInitialized()
    {
        base.OnInitialized();

        OtherSettings = new[]
        {
            new SettingItem
            {
                Action =SwitchRender( x => x.ColorWeak, () => Settings.ColorWeak)
            }
        };
    }
}
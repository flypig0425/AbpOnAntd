@using Volo.Abp.SettingManagement.Localization
@inherits Zero.Abp.AspNetCore.Components.AbpComponentBase
@inject AbpBlazorMessageLocalizerHelper<AbpSettingManagementResource> LH

@if (EmailSettings != null)
{
    <Form Model="@EmailSettings"
          OnFinish="@UpdateSettingsAsync"
          OnFinishFailed="OnFinishFailed"
          LabelColSpan="8"
          WrapperColSpan="16">

        <FormItem Label="@L["DefaultFromDisplayName"]">
            <Input @bind-Value="@context.DefaultFromDisplayName" />
        </FormItem>

        <FormItem Label="@L["DefaultFromAddress"]">
            <Input @bind-Value="@context.DefaultFromAddress" />
        </FormItem>

        <FormItem Label="@L["SmtpHost"]">
            <Input @bind-Value="@context.SmtpHost" />
        </FormItem>

        <FormItem Label="@L["SmtpPort"]">
            <Input @bind-Value="@context.SmtpPort" />
        </FormItem>

        <FormItem Label="@L["SmtpEnableSsl"]">
            <Checkbox @bind-Value="@context.SmtpEnableSsl" />
        </FormItem>

        <FormItem Label="@L["SmtpUseDefaultCredentials"]">
            <Checkbox @bind-Value="@context.SmtpUseDefaultCredentials" />
        </FormItem>

        @if (!EmailSettings.SmtpUseDefaultCredentials)
        {
            <FormItem Label="@L["SmtpDomain"]">
                <Input @bind-Value="@context.SmtpDomain" />
            </FormItem>

            <FormItem Label="@L["SmtpUserName"]">
                <Input @bind-Value="@context.SmtpUserName" />
            </FormItem>

            <FormItem Label="@L["SmtpPassword"]">
                <Input @bind-Value="@context.SmtpPassword" />
            </FormItem>
        }
    </Form>
}
